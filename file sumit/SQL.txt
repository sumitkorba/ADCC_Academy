create or replace PROCEDURE SP_TC_STUDENT_LIST
(
p_SId     IN   NUMBER,
P_SESSID    IN   NUMBER,
P_CSID      IN   NUMBER,
P_TCSTUD_CURSOR   OUT SYS_REFCURSOR
)
 AS
BEGIN

open P_TCSTUD_CURSOR FOR

SELECT AA.TCID , AA.STID , AA.STUDENTNAME , AA.GENDER , AA.ROLLNO , AA.CSID , BB.CLASSSECTION , 
AA.SESSIONNAME , CC.SESSIONNAME AS AluminiYear
FROM TC_STUDENT AA , CLASS_SECTION BB , SESSION_MASTER CC
WHERE AA.CSID = BB.CSID AND AA.SESSIONNAME = CC.SES_id 
AND AA."SID" = p_SId AND AA.SESSIONNAME = P_SESSID AND AA.CSID = P_CSID AND AA.STATUS = 0 AND BB.STATUS = 0 ;

END SP_TC_STUDENT_LIST;


